<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const cart = ["shoes", "pants", "kurta", "gloves", "shorts"];

      //creating an API
      createOrder(cart); // order ID

      proceedToPayment(orderID); // this API will take this order ID and take us to the payment page

      // now we will make all these function in a single function using callback
      // here we are passing this callback function to another function. This is not the correct way because we are passing callback function to another function and now we don't have control on this callback function
      createOrder(cart, function (orderID) {
        proceedToPayment(orderID);
      });

      const promise = createOrder(cart);

      // here we are attaching this callback function to a promise object. This is the CORRECT way because we have full control on callback function. Promise objects are immutable and there are only three states inside the promise PENDING, FULFILLED and REJECTED.
      promise.then(function (orderID) {
        proceedToPayment(orderID);
      });

      // BEST WAY TO WRITE ONE OR MORE THAN ONE PROMISE

      createOrder(cart)
        .then((orderID) => proceedToPayment(orderID))
        .then((paymentInfo) => showOrderSummary(paymentInfo))
        .then((paymentInfo) => updateWalletBalance(paymentInfo));
    </script>
  </body>
</html>
